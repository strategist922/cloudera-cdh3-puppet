<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- Put site-specific property overrides in this file. -->

<configuration>
  <property>
     <name>mapred.local.dir</name>
     <value><%= hadoop_mapred_local_dirs %> </value>
   </property>

  <property>
    <name>hadoop.job.history.user.location</name>
    <value>none</value>
  </property>

  <property>
    <name>mapred.userlog.retain.hours</name>
    <value>24</value>
  </property>

  <property>
    <name>mapred.reduce.tasks.speculative.execution</name>
    <value>false</value>
  </property>

  <property>
    <name>mapred.jobtracker.taskScheduler</name>
    <value>org.apache.hadoop.mapred.FairScheduler</value>
  </property>

  <property>
    <name>mapred.fairscheduler.allocation.file</name>
    <value>/usr/lib/hadoop/conf/fair-scheduler.xml</value>
  </property>

  <property>
    <name>mapred.fairscheduler.assignmultiple</name>
    <value>true</value>
  </property>

  <property>
    <name>mapred.compress.map.output</name>
    <value>true</value>
  </property>

  <property>
    <name>mapred.map.output.compression.codec</name>
    <value>org.apache.hadoop.io.compress.SnappyCodec</value>
  </property>

  <property>
    <name>mapred.job.tracker</name>
    <value>MASTER:9001</value>
  </property>

  <property>
    <name>mapred.tasktracker.map.tasks.maximum</name>
    <value> <%= mapred_tasktracker_map_tasks_maximum %> </value>
  </property>

  <property>
    <name>tasktracker.http.threads</name>
    <value>40</value>
  </property>

  <property>
    <name>mapred.tasktracker.reduce.tasks.maximum</name>
    <value> <%= mapred_tasktracker_reduce_tasks_maximum %> </value>
  </property>

  <property>
    <name>mapred.reduce.parallel.copies</name>
    <value>20</value>
    <description>Number of concurrent tasks to copy map output data to the reduce nodes</description>
  </property>

  <property>
    <name>mapred.job.tracker.handler.count</name>
    <value>50</value>
  </property>

  <property>
    <name>mapred.map.child.java.opts</name>
    <value>-Xmx768M</value>
    <final>true</final>
    <description>Larger heap-size for child jvms of maps.</description>
  </property>

  <property>
    <name>mapred.reduce.child.java.opts</name>
    <value>-Xmx1024M</value>
    <final>true</final>
    <description>Larger heap-size for child jvms of reduces.</description>
  </property>

  <property>
    <name>mapred.queue.names</name>
    <value>default</value>
    <description>Names of queues</description>
  </property>
</configuration>
